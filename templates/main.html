{% extends "bootstrap/base.html" %}
{% block title %}Users list app{% endblock %}
{% block scripts %}
<script src="{{url_for('user-item.static', filename='socketio-2.3.0.js')}}"></script>
<script src="{{url_for('user-item.static', filename='element.js')}}"></script>
<script type="module" src="{{url_for('user-item.webcomponent')}}"></script>
<script type="module" src="{{url_for('car-item.webcomponent')}}"></script>
<script type="module" src="{{url_for('api-item.webcomponent')}}"></script>
{{super()}}
{% endblock %}
{% block content %}
<div class="container">
  <div id="user2"> user 2: <user-item index=2 ></user-item></div>
    <hr />
  <form-user-item id='form'></form-user-item>
  <ul-user-item></ul-user-item>
<p>Latest registered user:</p><div id='latest' style='color:red'></div>
</div>
<div class="container">
<p><car-item index=1 ></car-item></p>
<p><api-item index=1 ></value-item></p>
<p><api-item index=2 ></value-item></p>
</div>
<script>
latest = document.getElementById('latest')
document.getElementById('form').addEventListener('item-created', (e) => {
    while (latest.firstChild)
        latest.firstChild.remove();
    latest.appendChild(e.detail)
});
</script>
{% endblock %}